{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/modal/Modal.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/ButtonLoadMore/ButtonLoadMore.js","components/axiosRequest/AxiosRequest.js","components/App.js","index.js"],"names":["Searchbar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","type","autoComplete","autoFocus","placeholder","name","onChange","Component","Modal","clickFunc","tagName","clickState","event","keyCode","document","addEventListener","escFunction","bind","removeEventListener","src","alt","id","onClick","ImageGalleryItem","click","handelModalOn","handelOffModal","webformatURL","tags","largeImageURL","ImageGallery","gallery","map","item","key","ButtonLoadMore","setPagination","axiosRequest","pagination","axios","get","App","request","isLoading","error","fetchArticles","then","response","data","hits","catch","finally","newPagination","window","scrollTo","top","documentElement","scrollHeight","behavior","length","color","height","width","timeout","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e5ddec87.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//---------------------------------------\r\nimport \"./Searchbar.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n\tstate = { query: \"\" };\r\n\r\n\tstatic propTypes = {\r\n\t\tonSubmit: PropTypes.func.isRequired,\r\n\t};\r\n\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tquery: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tthis.props.onSubmit(this.state.query, 1);\r\n\r\n\t\tthis.setState({ query: \"\" });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { query } = this.state;\r\n\t\treturn (\r\n\t\t\t<header className=\"Searchbar\">\r\n\t\t\t\t<form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<button type=\"submit\" className=\"SearchForm-button\">\r\n\t\t\t\t\t\t<span className=\"SearchForm-button-label\">Search</span>\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"SearchForm-input\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\tplaceholder=\"Search images and photos\"\r\n\t\t\t\t\t\tname=\"request\"\r\n\t\t\t\t\t\tvalue={query}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</header>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//---------------------------------------\r\nimport \"./Modal.css\";\r\n\r\nexport default class Modal extends Component {\r\n\tstate = {};\r\n\r\n\tstatic propTypes = {\r\n\t\tsrc: PropTypes.string.isRequired,\r\n\t\tclickState: PropTypes.func.isRequired,\r\n\t\talt: PropTypes.string,\r\n\t};\r\n\r\n\tescFunction(event) {\r\n\t\tif (event.keyCode === 27) {\r\n\t\t\tthis.props.clickState();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"keydown\", this.escFunction.bind(this));\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener(\"keydown\", this.escFunction);\r\n\t}\r\n\r\n\tclickFunc = (e) => {\r\n\t\tif (e.target.tagName !== \"IMG\") {\r\n\t\t\tthis.props.clickState();\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { src, alt } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"Overlay\">\r\n\t\t\t\t<div className=\"Modal\" id=\"Modal\" onClick={this.clickFunc}>\r\n\t\t\t\t\t<img src={src} alt={alt} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//---------------------------------------\r\nimport \"./ImageGalleryItem.css\";\r\nimport Modal from \"./modal/Modal\";\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n\t//Если click: true появляется модальное окно\r\n\tstate = { click: false };\r\n\r\n\tstatic propTypes = {\r\n\t\twebformatURL: PropTypes.string.isRequired,\r\n\t\tlargeImageURL: PropTypes.string.isRequired,\r\n\t\ttags: PropTypes.string,\r\n\t};\r\n\r\n\thandelModalOn = () => {\r\n\t\tthis.setState({\r\n\t\t\tclick: true,\r\n\t\t});\r\n\t};\r\n\r\n\thandelOffModal = () => {\r\n\t\tthis.setState({\r\n\t\t\tclick: false,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { webformatURL, tags, largeImageURL } = this.props;\r\n\t\tconst { click } = this.state;\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<li className=\"ImageGalleryItem\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={webformatURL}\r\n\t\t\t\t\t\talt={tags}\r\n\t\t\t\t\t\tclassName=\"ImageGalleryItem-image\"\r\n\t\t\t\t\t\tonClick={this.handelModalOn}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</li>\r\n\t\t\t\t{click && (\r\n\t\t\t\t\t<Modal\r\n\t\t\t\t\t\tsrc={largeImageURL}\r\n\t\t\t\t\t\talt={tags}\r\n\t\t\t\t\t\tclickState={this.handelOffModal}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//---------------------------------------\r\nimport \"./ImageGallery.css\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ gallery }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {gallery.map((item) => (\r\n      <ImageGalleryItem\r\n        key={item.id}\r\n        webformatURL={item.webformatURL}\r\n        tags={item.tags}\r\n        largeImageURL={item.largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//---------------------------------------\r\nimport \"./ButtonLoadMore.css\";\r\n\r\nconst ButtonLoadMore = ({ setPagination }) => {\r\n\treturn (\r\n\t\t<button className=\"Button2\" onClick={setPagination}>\r\n\t\t\tLoad more ....\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nButtonLoadMore.propTypes = {\r\n\tsetPagination: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ButtonLoadMore;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"15197033-6a0a9e6d0bedb15a0a6a5ba9a\";\r\n\r\nexport const axiosRequest = (value, pagination) => {\r\n\treturn axios.get(\r\n\t\t`${BASE_URL}?key=${API_KEY}&q=${value}&image_type=photo&per_page=12&page=${pagination}`\r\n\t);\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\nimport ButtonLoadMore from \"./ButtonLoadMore/ButtonLoadMore.js\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"./App.css\";\r\n\r\nimport { axiosRequest } from \"./axiosRequest/AxiosRequest\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    gallery: [],\r\n    request: \"\",\r\n    pagination: 1,\r\n    isLoading: false,\r\n    error: null,\r\n  };\r\n\r\n  fetchArticles = (value, pagination) => {\r\n    this.setState({ isLoading: true });\r\n\r\n    axiosRequest(value, pagination)\r\n      .then((response) => {\r\n        if (pagination > 1) {\r\n          this.setState({\r\n            gallery: [...this.state.gallery, ...response.data.hits],\r\n            request: value,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            gallery: response.data.hits,\r\n            request: value,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  setPagination = () => {\r\n    const newPagination = this.state.pagination + 1;\r\n\r\n    this.fetchArticles(this.state.request, newPagination);\r\n\r\n    this.setState({\r\n      pagination: newPagination,\r\n    });\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { gallery, isLoading, error } = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={this.fetchArticles} />\r\n        {gallery.length > 0 && <ImageGallery gallery={gallery} />}\r\n        {isLoading && (\r\n          <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n            timeout={3000} //3 secs\r\n            className=\"Spinner\"\r\n          />\r\n        )}\r\n        {gallery.length > 0 && (\r\n          <ButtonLoadMore setPagination={this.setPagination} />\r\n        )}\r\n        {error && (\r\n          <h3 className=\"Error\">Oops something happened: {error.message}</h3>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}